/* app/globals.css */

@import "tailwindcss";

/* iOS Safari Performance Optimizations */
@supports (-webkit-touch-callout: none) {

  /* Apply only to iOS Safari */
  .animation-container {
    /* Force hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0);
    -webkit-backface-visibility: hidden;
    -webkit-perspective: 1000px;

    /* Performance isolation */
    contain: layout style paint;
  }

  /* Disable hover effects on iOS */
  @media (hover: none) and (pointer: coarse) {
    .btn:hover {
      transform: none !important;
      background-color: inherit !important;
      border-color: inherit !important;
    }
  }
}

/* --- Global CSS Variables --- */
/* Premium Swiss Executive Energy Palette - Deep Navy Excellence */
:root {
  /* Page Backgrounds - Deep Navy Prestige */
  --background: #0A1628;
  /* Very dark navy base (Swiss trust) */
  --background-gradient: linear-gradient(180deg, #0A1628 0%, #050B14 100%);

  /* Surface Hierarchy - Navy Cards & Panels */
  --surface-1: #0D1B2E;
  /* Deep navy - primary cards */
  --surface-2: #162943;
  /* Lighter navy - hover/nested */
  --surface-3: #1F3A5F;
  /* Even lighter - modals/dropdowns */

  /* Legacy card colors (mapped to navy surfaces) */
  --light: #0D1B2E;
  /* Cards, inputs (elevated surface 1) */
  --light-800: #162943;
  /* Hover states, secondary panels */
  --light-600: #1F3A5F;
  /* Modals, dropdowns */
  --light-400: #2C4A6E;
  /* Borders, dividers (slate blue) */

  /* Text Colors - White & Cool Grays on Dark Navy */
  --text-primary: #F8FAFC;
  /* Bright white - primary text */
  --text-secondary: #CBD5E1;
  /* Cool light gray - secondary text */
  --text-tertiary: #94A3B8;
  /* Muted slate gray - tertiary */
  --text-disabled: #64748B;
  /* Very muted - disabled states */

  /* Legacy text colors (mapped to new text system) */
  --dark: #F8FAFC;
  /* Primary text */
  --dark-800: #CBD5E1;
  /* Secondary text */
  --dark-600: #94A3B8;
  /* Tertiary text */
  --dark-400: #64748B;
  /* Muted/disabled text */
  --foreground: #F8FAFC;
  /* Primary foreground text */
  --gray: #94A3B8;

  /* Primary Brand - Bright Blue (Links, secondary CTAs) */
  --primary: #3B82F6;
  /* Bright blue for visibility on dark navy */
  --primary-dark: #2563EB;
  --primary-light: #60A5FA;
  --primary-alpha: rgba(59, 130, 246, 0.15);

  /* Energy Accent - Electric Blue (Structural accents) */
  --accent-energy: #0EA5E9;
  /* Sky blue - trust & clarity */
  --accent-energy-hover: #38BDF8;
  /* Lighter sky blue hover */
  --accent-energy-alpha: rgba(14, 165, 233, 0.15);

  /* Luxury Accent - CHAMPAGNE GOLD (Primary Premium Accent) */
  --accent-gold: #D4AF37;
  /* Champagne gold - CTAs, highlights */
  --accent-gold-hover: #E5C158;
  /* Brighter gold - hover states */
  --accent-gold-muted: #C5B783;
  /* Subtle gold - decorative */
  --accent-gold-alpha: rgba(212, 175, 55, 0.15);
  --accent-gold-border: rgba(212, 175, 55, 0.3);
  /* Gold borders/rims */

  /* Warm Alternative Accent - Deep Copper */
  --accent-copper: #B87333;
  --accent-copper-alpha: rgba(184, 115, 51, 0.15);

  /* Typography */
  --font-body: var(--font-gilroy), Arial, sans-serif;
  --font-heading: var(--font-gilroy), Arial, sans-serif;

  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-xxl: 3rem;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 20px;
  --radius-round: 50%;

  /* Shadows - Deep, luxurious on dark burgundy */
  --shadow-sm: 0 2px 5px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.6);
  --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.7);
  --shadow-highlight: 0 0 20px rgba(212, 175, 55, 0.3);

  /* Premium Glows - Gold emphasis on dark burgundy */
  --glow-gold: 0 0 20px rgba(212, 175, 55, 0.5), 0 0 40px rgba(212, 175, 55, 0.2);
  --glow-gold-subtle: 0 0 15px rgba(212, 175, 55, 0.25);
  --glow-burgundy: 0 0 15px rgba(107, 0, 38, 0.4);
  --glow-navy: 0 0 15px rgba(25, 118, 210, 0.4);

  /* Transitions */
  --transition-fast-duration: 0.2s;
  --transition-medium-duration: 0.3s;
  --transition-slow-duration: 0.5s;
  --transition-timing-function: ease;
  --transition-fast: var(--transition-fast-duration) var(--transition-timing-function);
  --transition-medium: var(--transition-medium-duration) var(--transition-timing-function);
  --transition-slow: var(--transition-slow-duration) var(--transition-timing-function);

  /* Layout */
  --container-width: 1200px;

  /* ========================================================================
     Z-Index Scale - Semantic Layering System
     ========================================================================

     USAGE GUIDELINES:
     - Always use semantic layer names (--z-nav, --z-modal) instead of numbers
     - Higher values = closer to user (on top)
     - Maintain strict hierarchy to prevent stacking conflicts

     LAYER HIERARCHY (from bottom to top):

     1. BACKGROUND LAYERS (-1 to 0)
        Elements that should appear behind normal content flow

     2. CONTENT LAYERS (1 to 10)
        Regular page content with slight elevation

     3. STRUCTURAL LAYERS (100 to 500)
        Persistent UI elements (sticky headers, fixed sidebars)

     4. INTERACTIVE OVERLAYS (800 to 1000)
        Contextual UI that appears on user interaction

     5. BLOCKING OVERLAYS (10000+)
        Full-page overlays that block interaction with page content

     ======================================================================== */

  /* Background & Below Content */
  --z-below: -1;              /* Elements behind normal flow (decorative backgrounds) */

  /* Normal Content Flow */
  --z-normal: 1;              /* Default elevated elements (cards, panels) */
  --z-above: 10;              /* Slightly elevated content (featured items, badges) */

  /* Page Structure - Persistent Elements */
  --z-sticky: 100;            /* Sticky table headers, filter bars */
  --z-fixed: 500;             /* Fixed page elements (side panels, FABs) */

  /* Interactive Overlays - Contextual UI */
  --z-dropdown: 800;          /* Dropdown menus, select menus, popovers */
  --z-tooltip: 900;           /* Tooltips, hover cards, info bubbles */
  --z-nav: 1000;              /* Site navigation header (always accessible) */

  /* Blocking Overlays - Full Page Interactions */
  --z-overlay: 10000;         /* Modal backdrops, drawer overlays (dims content) */
  --z-modal: 10001;           /* Modal dialogs, drawers, lightboxes (main content) */
  --z-toast: 10002;           /* Toast notifications (non-blocking alerts) */
  --z-loading: 10003;         /* Full-page loading overlays (highest priority) */

  /* Semantic Colors - Adapted for dark burgundy background */
  --error-color: #ff6b6b;
  --error-bg: rgba(220, 38, 38, 0.15);
  --success-color: #D4AF37;
  /* Gold for premium success */
  --success-bg: rgba(212, 175, 55, 0.15);
  --warning-color: #fbbf24;
  --warning-bg: rgba(251, 191, 36, 0.15);
  --info-color: #60a5fa;
  --info-bg: rgba(96, 165, 250, 0.15);

  /* Button Text Colors */
  --button-text-on-primary: #ffffff;
  --button-text-on-gold: #1a0512;
  /* Dark burgundy text on gold */
  --button-text-on-burgundy: #F5F5F5;
}

/* --- No Dark Mode - Single Premium Burgundy Theme --- */

/* --- Mobile Typography Optimization --- */
@media (max-width: 640px) {
  :root {
    --text-xs: 0.6875rem;
    --text-sm: 0.8125rem;
    --text-base: 0.9375rem;
    --text-lg: 1.0625rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;
  }
}

/* --- Font Face Declarations Removed - Using next/font --- */

/* --- Basic Body and Global Element Styles --- */
html {
  scrollbar-gutter: stable;
}

body {
  font-family: var(--font-body);
  color: var(--foreground);
  background-color: var(--background);
  line-height: 1.6;
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading);
  font-weight: normal;
  line-height: 1.3;
  color: var(--foreground);
}

p {
  margin-bottom: var(--space-lg);
}

a {
  color: var(--dark-600);
  text-decoration: none;
  transition: color var(--transition-medium);
}

a:hover {
  color: var(--dark-800);
}


/*
 ==========================================================================
   Reusable Component Layer
 ==========================================================================
*/
@layer components {
  .label-base {
    @apply block mb-1 text-sm font-medium;
    color: var(--text-secondary);
  }

  .input-base {
    @apply block w-full px-3 py-2 text-base transition-colors duration-200 border rounded-md shadow-sm appearance-none sm:text-sm;
    background-color: var(--light-800);
    border-color: var(--light-400);
    color: var(--text-primary);
    @apply focus:outline-none focus:ring-2 focus:border-[var(--accent-gold)];
    @apply disabled:opacity-60 disabled:cursor-not-allowed;
  }

  .input-base::placeholder {
    color: var(--text-tertiary);
  }

  .input-base:focus {
    box-shadow: 0 0 0 3px var(--accent-gold-alpha);
    border-color: var(--accent-gold);
  }

  select.input-base {
    @apply bg-no-repeat;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23D4C5C7' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
    background-position: right 0.5rem center;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  .input-error {
    border-color: var(--error-color);
    color: var(--text-primary);
  }

  .input-error::placeholder {
    color: var(--error-color);
  }

  .input-error:focus {
    box-shadow: 0 0 0 3px var(--error-bg);
    border-color: var(--error-color);
  }

  .error-message {
    @apply mt-2 text-sm;
    color: var(--error-color);
    font-weight: 300;
    font-family: var(--font-body);
  }

  .prose {
    @apply max-w-none;
    color: var(--text-secondary);
  }

  .prose a {
    color: var(--accent-gold);
    text-decoration: underline;
  }

  .prose a:hover {
    color: var(--accent-gold-hover);
  }
}

/*
 ==========================================================================
   Dedicated CSS for the Remove Button Animation
 ==========================================================================
*/
.remove-item-btn {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  cursor: pointer;
  background-color: transparent;
  color: var(--text-tertiary);
  border: 1px solid var(--light-400);
  border-radius: var(--radius-round);
  box-shadow: none;
  transition:
    transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1),
    color 0.2s ease-in-out,
    background-color 0.2s ease-in-out,
    border-color 0.2s ease-in-out,
    border-radius 0.2s ease-in-out,
    box-shadow 0.2s ease-in-out;
}

.remove-item-btn:hover:not(:disabled),
.remove-item-btn:focus-visible:not(:disabled) {
  background-color: var(--error-bg);
  color: var(--error-color);
  border-color: var(--error-color);
  transform: scale(1.05);
  box-shadow: var(--shadow-sm);
  border-radius: var(--radius-sm);
  outline: none;
}

.remove-item-btn:active:not(:disabled) {
  transform: scale(1);
  background-color: var(--error-color);
  color: var(--text-primary);
  border-color: var(--error-color);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
}

.remove-item-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
  background-color: transparent !important;
  color: var(--text-disabled) !important;
  border-color: var(--light-400) !important;
}

@layer components {
  .form-input {
    @apply block w-full px-4 py-3 rounded-lg shadow-inner focus:outline-none text-base border;
    background-color: var(--light-800);
    border-color: var(--light-400);
    color: var(--text-primary);
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .form-input:focus {
    box-shadow: 0 0 0 3px var(--accent-gold-alpha);
    border-color: var(--accent-gold);
  }

  .form-input::placeholder {
    color: var(--text-tertiary);
  }

  textarea.form-input {
    @apply resize-y;
  }
}

/* Hide scrollbar for Chrome, Safari and Opera */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.hide-scrollbar {
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;
  /* Firefox */
}

/* Error Summary Component */
.error-summary {
  background-color: var(--error-bg);
  border: 1px solid var(--error-color);
  border-radius: 6px;
  padding: 0.75rem 1rem;
  margin-bottom: 1.25rem;
  animation: slideInFromTop 0.3s ease-out;
  box-shadow: var(--shadow-sm);
}

.error-summary h3 {
  color: var(--error-color);
  font-family: var(--font-body);
  font-weight: 400;
  font-size: 0.875rem;
  line-height: 1.4;
  margin-bottom: 0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Mobile optimization */
@media (max-width: 640px) {
  .error-summary {
    padding: 0.625rem 0.875rem;
    margin-bottom: 1rem;
    border-radius: 4px;
  }

  .error-summary h3 {
    font-size: 0.8125rem;
    gap: 0.375rem;
  }
}

/* Slide in animation for error summary */
@keyframes slideInFromTop {
  0% {
    opacity: 0;
    transform: translateY(-10px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}